---
import { getCollection } from 'astro:content';
import { type SupportedLang } from '../../utils/i18n';

export async function getStaticPaths() {
  const profiles = await getCollection('profile');
  return profiles.map((entry) => ({ params: { lang: entry.slug as SupportedLang } }));
}

return Astro.redirect(`/${Astro.params.lang as SupportedLang}/`, 301);
---
